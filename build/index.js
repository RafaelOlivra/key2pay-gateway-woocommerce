(()=>{"use strict";const e=window.wp.i18n,a=window.wp.element,t=window.ReactJSXRuntime,{registerPaymentMethod:n}=window.wc.wcBlocksRegistry,y=n=>{const{eventRegistration:y,emitResponse:s,components:r}=n,{PaymentMethodLabel:o}=r,{onPaymentSetup:c}=y,[i,p]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[_,u]=(0,a.useState)("");return(0,a.useEffect)(()=>{const e=localStorage.getItem("key2pay_thai_debit_account_no"),a=localStorage.getItem("key2pay_thai_debit_account_name"),t=localStorage.getItem("key2pay_thai_debit_bank_code");e&&p(e),a&&d(a),t&&u(t)},[]),(0,a.useEffect)(()=>{localStorage.setItem("key2pay_thai_debit_account_no",i),localStorage.setItem("key2pay_thai_debit_account_name",l),localStorage.setItem("key2pay_thai_debit_bank_code",_)},[i,l,_]),(0,a.useEffect)(()=>{const a=c(async()=>i&&l&&_?{type:s.responseTypes.SUCCESS,meta:{paymentMethodData:{payer_account_no:i,payer_account_name:l,payer_bank_code:_}}}:{type:s.responseTypes.ERROR,message:(0,e.__)("Please fill in all required fields for Thai Debit.","key2pay")});return()=>{a()}},[s.responseTypes.ERROR,s.responseTypes.SUCCESS,c,i,l,_]),(0,t.jsxs)("div",{className:"k2p-thai-debit",children:[(0,t.jsx)(o,{text:(0,e.__)("Pay securely with Thai Debit via Key2Pay. Please enter your bank details below.","key2pay")}),(0,t.jsx)("div",{className:"k2p-field-group",children:(0,t.jsx)("p",{children:(0,t.jsxs)("label",{children:[(0,e.__)("Bank Code","key2pay"),(0,t.jsx)("input",{type:"text",placeholder:(0,e.__)("e.g., 014","key2pay"),name:"payer_bank_code",value:_,onChange:e=>u(e.target.value),required:!0})]})})}),(0,t.jsx)("div",{className:"k2p-field-group",children:(0,t.jsx)("p",{children:(0,t.jsxs)("label",{children:[(0,e.__)("Bank Account Number","key2pay"),(0,t.jsx)("input",{type:"text",placeholder:(0,e.__)("Enter account number","key2pay"),name:"payer_account_no",value:i,onChange:e=>p(e.target.value),required:!0})]})})}),(0,t.jsx)("div",{className:"k2p-field-group",children:(0,t.jsx)("p",{children:(0,t.jsxs)("label",{children:[(0,e.__)("Bank Account Name","key2pay"),(0,t.jsx)("input",{type:"text",placeholder:(0,e.__)("Name on account","key2pay"),name:"payer_account_name",value:l,onChange:e=>d(e.target.value),required:!0})]})})})]})};n({name:"key2pay_thai_debit",paymentMethodId:"key2pay_thai_debit",label:(0,e.__)("Key2Pay Thai Debit (QR Payment)","key2pay"),content:(0,t.jsx)(y,{}),edit:(0,t.jsx)(y,{}),canMakePayment:()=>!0,ariaLabel:(0,e.__)("Key2Pay Thai Debit (QR Payment)","key2pay"),supports:{features:["products","refunds"]}});const s=a=>{const{eventRegistration:n,emitResponse:y,components:s}=a,{PaymentMethodLabel:r}=s,{onPaymentSetup:o}=n;return(0,t.jsx)("div",{className:"k2p-credit-card",children:(0,t.jsx)(r,{text:(0,e.__)("Pay securely with your credit card via Key2Pay. You will be redirected to complete your payment securely.","key2pay")})})};n({name:"key2pay_credit",paymentMethodId:"key2pay_credit",label:(0,e.__)("Key2Pay Credit Card","key2pay"),content:(0,t.jsx)(s,{}),edit:(0,t.jsx)(s,{}),canMakePayment:()=>!0,ariaLabel:(0,e.__)("Key2Pay Credit Card","key2pay"),supports:{features:["products","refunds"]}})})();